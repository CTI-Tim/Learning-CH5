!function(a,b){"object"==typeof exports?module.exports=b():"function"==typeof define&&define.amd?define(b):a.drag=b()}(this,function(){var a=function(){function a(a,b){return a?(g(a,b,"touchstart","touchmove","touchend"),g(a,b,"mousedown","mousemove","mouseup"),void 0):(console.warn("drag is missing elem!"),void 0)}function b(b){var c=e(b["class"]||"",b.parent),f=e("pointer",c);return e("shape shape1",f),e("shape shape2",f),e("bg bg1",c),e("bg bg2",c),a(c,d(b.cbs,f)),{background:c,pointer:f}}function c(b){var c=e(b["class"],b.parent),f=e("pointer",c);return e("shape",f),e("bg",c),a(c,d(b.cbs,f)),{background:c,pointer:f}}function d(a,b){function c(a){return function(c){c.pointer=b,a(c)}}var d={};for(var e in a)d[e]=c(a[e]);return d}function e(a,b){return f("div",a,b)}function f(a,b,c){var d=document.createElement(a);return b&&(d.className=b),c.appendChild(d),d}function g(a,b,c,d,e){var f=!1;b=j(b);var g=b.begin,k=b.change,l=b.end;h(a,c,function(b){function c(){f=!1,i(document,d,j),i(document,e,c),m(l,a,b)}f=!0;var j=n(m,k,a);h(document,d,j),h(document,e,c),m(g,a,b)})}function h(a,b,c){var d=!1;try{var e=Object.defineProperty({},"passive",{get:function(){d=!0}});window.addEventListener("testPassive",null,e),window.removeEventListener("testPassive",null,e)}catch(f){}a.addEventListener(b,c,d?{passive:!1}:!1)}function i(a,b,c){a.removeEventListener(b,c,!1)}function j(a){if(a)return{begin:a.begin||l,change:a.change||l,end:a.end||l};var b,c;return{begin:function(a){b={x:a.elem.offsetLeft,y:a.elem.offsetTop},c=a.cursor},change:function(a){k(a.elem,"left",b.x+a.cursor.x-c.x+"px"),k(a.elem,"top",b.y+a.cursor.y-c.y+"px")},end:l}}function k(a,b,c){a.style[b]=c}function l(){}function m(a,b,c){c.preventDefault();var d=o(b),e=b.clientWidth,f=b.clientHeight,g={x:p(b,c),y:q(b,c)},h=(g.x-d.x)/e,i=(g.y-d.y)/f;a({x:isNaN(h)?0:h,y:isNaN(i)?0:i,cursor:g,elem:b,e:c})}function n(a){var b=Array.prototype.slice,c=b.apply(arguments,[1]);return function(){return a.apply(null,c.concat(b.apply(arguments)))}}function o(a){var b=a.getBoundingClientRect();return{x:b.left,y:b.top}}function p(a,b){var c=b.touches?b.touches[b.touches.length-1]:b;return c.clientX}function q(a,b){var c=b.touches?b.touches[b.touches.length-1]:b;return c.clientY}return a.xyslider=b,a.slider=c,a}();return a});